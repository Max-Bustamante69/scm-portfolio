---
import SkillTag from "./SkillTag.astro";
import GradientBorder from "./GradientBorder.astro";
import type { CollectionEntry } from "astro:content";

type Experience = CollectionEntry<"experiences">;

type ExperienceCardProps = Experience["data"] & {
  class?: string;
};

const {
  jobTitle,
  companyName,
  startDate,
  endDate,
  skills,
  description,
  class: className = "",
  ...rest
} = Astro.props as ExperienceCardProps;
---

<div class:list={["experience-card h-full", className]} {...rest}>
  <GradientBorder blur>
    <div
      class={`size-full border border-accent/30 bg-card-background flex flex-col align-center px-12 py-8 gap-10 shadow-lg`}
    >
      <div class="mb-2 flex items-center gap-6">
        <div class=" size-10 rounded-full bg-accent/10"></div>
        <div>
          <h4 class="font-bold :text-xl">{jobTitle}</h4>
          <p class="text-subtext">
            {companyName} â€¢ {startDate} - {endDate}
          </p>
        </div>
      </div>
      <p class="mb-4 text-text whitespace-pre-line">
        {description?.replaceAll("\n", "\n\n")}
      </p>
      <div class="flex flex-col gap-2 align-start">
        <p class="mb-2 font-semibold text-white">Skills & Technologies</p>
        <div class="flex flex-wrap gap-2">
          {skills?.map((skill) => <SkillTag>{skill}</SkillTag>)}
        </div>
      </div>
    </div>
  </GradientBorder>
</div>
